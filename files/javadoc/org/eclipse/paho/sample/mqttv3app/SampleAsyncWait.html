<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0 - Jan 2014) on Thu Apr 17 11:23:21 BST 2014 -->
<title>SampleAsyncWait (MQTT v3 Client API)</title>
<meta name="date" content="2014-04-17">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SampleAsyncWait (MQTT v3 Client API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
<div class="topNav"><a name="navbar_top">
<!--   -->
</a>
<div class="skip"><a href="#skip-navbar_top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SampleAsyncWait.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/eclipse/paho/sample/mqttv3app/SampleAsyncCallBack.Subscriber.html" title="class in org.eclipse.paho.sample.mqttv3app"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/paho/sample/mqttv3app/SampleAsyncWait.html" target="_top">Frames</a></li>
<li><a href="SampleAsyncWait.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div role="main" title ="SampleAsyncWait" aria-labelledby ="Header1"/>
<div class="header">
<div class="subTitle">org.eclipse.paho.sample.mqttv3app</div>
<h2 title="Class SampleAsyncWait" class="title" id="Header1">Class SampleAsyncWait</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.eclipse.paho.sample.mqttv3app.SampleAsyncWait</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html" title="interface in org.eclipse.paho.client.mqttv3">MqttCallback</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">SampleAsyncWait</span>
extends java.lang.Object
implements <a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html" title="interface in org.eclipse.paho.client.mqttv3">MqttCallback</a></pre>
<div class="block">A sample application that demonstrates how to use the MQTT v3 Client api in
 non-blocking waiter mode.
 
 It can be run from the command line in one of two modes: 
  - as a publisher, sending a single message to a topic on the server
  - as a subscriber, listening for messages from the server
  
  There are three versions of the sample that implement the same features
  but do so using using different programming styles:
  <ol>
  <li>Sample (this one) which uses the API which blocks until the operation completes</li>
  <li>SampleAsyncWait shows how to use the asynchronous API with waiters that block until 
  an action completes</li>
  <li>SampleAsyncCallBack shows how to use the asynchronous API where events are
  used to notify the application when an action completes<li>
  </ol>
  
  If the application is run with the -h parameter then info is displayed that 
  describes all of the options / parameters.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/eclipse/paho/sample/mqttv3app/SampleAsyncWait.html#SampleAsyncWait(java.lang.String, java.lang.String, boolean, boolean, java.lang.String, java.lang.String)">SampleAsyncWait</a></strong>(java.lang.String&nbsp;brokerUrl,
               java.lang.String&nbsp;clientId,
               boolean&nbsp;cleanSession,
               boolean&nbsp;quietMode,
               java.lang.String&nbsp;userName,
               java.lang.String&nbsp;password)</code>
<div class="block">Constructs an instance of the sample client wrapper</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/paho/sample/mqttv3app/SampleAsyncWait.html#connectionLost(java.lang.Throwable)">connectionLost</a></strong>(java.lang.Throwable&nbsp;cause)</code>
<div class="block">This method is called when the connection to the server is lost.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/paho/sample/mqttv3app/SampleAsyncWait.html#deliveryComplete(org.eclipse.paho.client.mqttv3.IMqttDeliveryToken)">deliveryComplete</a></strong>(<a href="../../../../../org/eclipse/paho/client/mqttv3/IMqttDeliveryToken.html" title="interface in org.eclipse.paho.client.mqttv3">IMqttDeliveryToken</a>&nbsp;token)</code>
<div class="block">Called when delivery for a message has been completed, and all
 acknowledgments have been received.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/paho/sample/mqttv3app/SampleAsyncWait.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>
<div class="block">The main entry point of the sample.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/paho/sample/mqttv3app/SampleAsyncWait.html#messageArrived(java.lang.String, org.eclipse.paho.client.mqttv3.MqttMessage)">messageArrived</a></strong>(java.lang.String&nbsp;topic,
              <a href="../../../../../org/eclipse/paho/client/mqttv3/MqttMessage.html" title="class in org.eclipse.paho.client.mqttv3">MqttMessage</a>&nbsp;message)</code>
<div class="block">This method is called when a message arrives from the server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/paho/sample/mqttv3app/SampleAsyncWait.html#publish(java.lang.String, int, byte[])">publish</a></strong>(java.lang.String&nbsp;topicName,
       int&nbsp;qos,
       byte[]&nbsp;payload)</code>
<div class="block">Publish / send a message to an MQTT server</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/paho/sample/mqttv3app/SampleAsyncWait.html#subscribe(java.lang.String, int)">subscribe</a></strong>(java.lang.String&nbsp;topicName,
         int&nbsp;qos)</code>
<div class="block">Subscribe to a topic on an MQTT server
 Once subscribed this method waits for the messages to arrive from the server 
 that match the subscription.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SampleAsyncWait(java.lang.String, java.lang.String, boolean, boolean, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SampleAsyncWait</h4>
<pre>public&nbsp;SampleAsyncWait(java.lang.String&nbsp;brokerUrl,
               java.lang.String&nbsp;clientId,
               boolean&nbsp;cleanSession,
               boolean&nbsp;quietMode,
               java.lang.String&nbsp;userName,
               java.lang.String&nbsp;password)
                throws <a href="../../../../../org/eclipse/paho/client/mqttv3/MqttException.html" title="class in org.eclipse.paho.client.mqttv3">MqttException</a></pre>
<div class="block">Constructs an instance of the sample client wrapper</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>brokerUrl</code> - the url to connect to</dd><dd><code>clientId</code> - the client id to connect with</dd><dd><code>cleanSession</code> - clear state at end of connection or not (durable or non-durable subscriptions)</dd><dd><code>quietMode</code> - whether debug should be printed to standard out</dd><dd><code>userName</code> - the username to connect with</dd><dd><code>password</code> - the password for the user</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttException.html" title="class in org.eclipse.paho.client.mqttv3">MqttException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">The main entry point of the sample.
 
 This method handles parsing the arguments specified on the
 command-line before performing the specified action.</div>
</li>
</ul>
<a name="publish(java.lang.String, int, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publish</h4>
<pre>public&nbsp;void&nbsp;publish(java.lang.String&nbsp;topicName,
           int&nbsp;qos,
           byte[]&nbsp;payload)
             throws <a href="../../../../../org/eclipse/paho/client/mqttv3/MqttException.html" title="class in org.eclipse.paho.client.mqttv3">MqttException</a></pre>
<div class="block">Publish / send a message to an MQTT server</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>topicName</code> - the name of the topic to publish to</dd><dd><code>qos</code> - the quality of service to delivery the message at (0,1,2)</dd><dd><code>payload</code> - the set of bytes to send to the MQTT server</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttException.html" title="class in org.eclipse.paho.client.mqttv3">MqttException</a></code></dd></dl>
</li>
</ul>
<a name="subscribe(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre>public&nbsp;void&nbsp;subscribe(java.lang.String&nbsp;topicName,
             int&nbsp;qos)
               throws <a href="../../../../../org/eclipse/paho/client/mqttv3/MqttException.html" title="class in org.eclipse.paho.client.mqttv3">MqttException</a></pre>
<div class="block">Subscribe to a topic on an MQTT server
 Once subscribed this method waits for the messages to arrive from the server 
 that match the subscription. It continues listening for messages until the enter key is 
 pressed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>topicName</code> - to subscribe to (can be wild carded)</dd><dd><code>qos</code> - the maximum quality of service to receive messages at for this subscription</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttException.html" title="class in org.eclipse.paho.client.mqttv3">MqttException</a></code></dd></dl>
</li>
</ul>
<a name="connectionLost(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectionLost</h4>
<pre>public&nbsp;void&nbsp;connectionLost(java.lang.Throwable&nbsp;cause)</pre>
<div class="block"><span class="strong">Description copied from interface:&nbsp;<code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html#connectionLost(java.lang.Throwable)">MqttCallback</a></code></span></div>
<div class="block">This method is called when the connection to the server is lost.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html#connectionLost(java.lang.Throwable)">connectionLost</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html" title="interface in org.eclipse.paho.client.mqttv3">MqttCallback</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>cause</code> - the reason behind the loss of connection.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html#connectionLost(java.lang.Throwable)"><code>MqttCallback.connectionLost(Throwable)</code></a></dd></dl>
</li>
</ul>
<a name="deliveryComplete(org.eclipse.paho.client.mqttv3.IMqttDeliveryToken)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deliveryComplete</h4>
<pre>public&nbsp;void&nbsp;deliveryComplete(<a href="../../../../../org/eclipse/paho/client/mqttv3/IMqttDeliveryToken.html" title="interface in org.eclipse.paho.client.mqttv3">IMqttDeliveryToken</a>&nbsp;token)</pre>
<div class="block"><span class="strong">Description copied from interface:&nbsp;<code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html#deliveryComplete(org.eclipse.paho.client.mqttv3.IMqttDeliveryToken)">MqttCallback</a></code></span></div>
<div class="block">Called when delivery for a message has been completed, and all
 acknowledgments have been received. For QoS 0 messages it is
 called once the message has been handed to the network for
 delivery. For QoS 1 it is called when PUBACK is received and
 for QoS 2 when PUBCOMP is received. The token will be the same
 token as that returned when the message was published.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html#deliveryComplete(org.eclipse.paho.client.mqttv3.IMqttDeliveryToken)">deliveryComplete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html" title="interface in org.eclipse.paho.client.mqttv3">MqttCallback</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>token</code> - the delivery token associated with the message.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html#deliveryComplete(org.eclipse.paho.client.mqttv3.IMqttDeliveryToken)"><code>MqttCallback.deliveryComplete(IMqttDeliveryToken)</code></a></dd></dl>
</li>
</ul>
<a name="messageArrived(java.lang.String, org.eclipse.paho.client.mqttv3.MqttMessage)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>messageArrived</h4>
<pre>public&nbsp;void&nbsp;messageArrived(java.lang.String&nbsp;topic,
                  <a href="../../../../../org/eclipse/paho/client/mqttv3/MqttMessage.html" title="class in org.eclipse.paho.client.mqttv3">MqttMessage</a>&nbsp;message)
                    throws <a href="../../../../../org/eclipse/paho/client/mqttv3/MqttException.html" title="class in org.eclipse.paho.client.mqttv3">MqttException</a></pre>
<div class="block"><span class="strong">Description copied from interface:&nbsp;<code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html#messageArrived(java.lang.String, org.eclipse.paho.client.mqttv3.MqttMessage)">MqttCallback</a></code></span></div>
<div class="block">This method is called when a message arrives from the server.

 <p>
 This method is invoked synchronously by the MQTT client. An
 acknowledgment is not sent back to the server until this
 method returns cleanly.</p>
 <p>
 If an implementation of this method throws an <code>Exception</code>, then the
 client will be shut down.  When the client is next re-connected, any QoS
 1 or 2 messages will be redelivered by the server.</p>
 <p>
 Any additional messages which arrive while an
 implementation of this method is running, will build up in memory, and
 will then back up on the network.</p>
 <p>
 If an application needs to persist data, then it
 should ensure the data is persisted prior to returning from this method, as
 after returning from this method, the message is considered to have been
 delivered, and will not be reproducible.</p>
 <p>
 It is possible to send a new message within an implementation of this callback
 (for example, a response to this message), but the implementation must not
 disconnect the client, as it will be impossible to send an acknowledgment for
 the message being processed, and a deadlock will occur.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html#messageArrived(java.lang.String, org.eclipse.paho.client.mqttv3.MqttMessage)">messageArrived</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html" title="interface in org.eclipse.paho.client.mqttv3">MqttCallback</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>topic</code> - name of the topic on the message was published to</dd><dd><code>message</code> - the actual message.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttException.html" title="class in org.eclipse.paho.client.mqttv3">MqttException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/eclipse/paho/client/mqttv3/MqttCallback.html#messageArrived(java.lang.String, org.eclipse.paho.client.mqttv3.MqttMessage)"><code>MqttCallback.messageArrived(String, MqttMessage)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div role="navigation" title ="Bottom_NAVIGATION" aria-label ="Bottom Navigation Bar"/>
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a>
<div class="skip"><a href="#skip-navbar_bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SampleAsyncWait.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/eclipse/paho/sample/mqttv3app/SampleAsyncCallBack.Subscriber.html" title="class in org.eclipse.paho.sample.mqttv3app"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/paho/sample/mqttv3app/SampleAsyncWait.html" target="_top">Frames</a></li>
<li><a href="SampleAsyncWait.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
